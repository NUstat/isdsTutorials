---
title: "RC 03: Chapter 2.4 - 2.6"
tutorial:
  id: "RC_03"
  version: 0.1
  
output:
  learnr::tutorial:
    progressive: false
    allow_skip: true
    css: ["css/nu-theme.css"]
runtime: shiny_prerendered
description: >
  Learn further data visualization graphics, including linegraphs, histograms, and faceting.
---

```{r setup, include=FALSE}
library(learnr)
library(tidyverse)
library(ISDStutorials)
library(gradethis)
library(nycflights13)

early_january_weather <- weather %>% 
  filter(origin == "EWR" & month == 1 & day <= 15)

knitr::opts_chunk$set(echo = FALSE)
gradethis_setup()
options(tutorial.event_recorder = ISDStutorials::isds_recorder)
```


```{r, context = "server"}
rubric_list <- data.frame(question = c("Name", "Ex1", "Ex2", "Q1", "Q2", "Q3", "Q4"),
                          points_possible = rep(1, 7))

grade_server("grade_out", 
            rubric_list = rubric_list)
```


```{r isds-header}
# student name
question_blank("Name: ___",
                            answer_fn(function(value){
                              if (length(value) >= 1 ) {
                                return(mark_as(TRUE))
                                }
                              return(mark_as(FALSE) )
                              }),
               style = "notes",
               correct = paste0(fontawesome::fa("check") ),
               incorrect = paste0(fontawesome::fa("xmark") ),
               allow_retry = FALSE )

# have name and grade button on same line
bootstrapPage(
     div(style="display:inline-block",
         grade_button_ui("grade_out", label = "View Grade") )
)

# can have the grade output appear anywhere in your tutorial
grade_output_ui("grade_out")
```

## Instructions

Complete this tutorial while reading Sections 2.4 - 2.6 of the [textbook](https://nustat.github.io/intro-stat-data-sci/02-visualization.html). Each question allows 3 'free' attempts. After the third attempt a 10% deduction occurs per attempt.

You can click the "View Grade" button as many times as you would like to see your current grade and the number of attempts you are on. Before submitting make sure your grade is as expected.

### Goals

- Learn how to use and interpret a linegraph
- Learn to use and interpret a histogram
- Choose an appropriate number of bins for a histogram
- Use faceting to view plots by a category

## Exercises

**Exercise 1**

Fill in the blanks to construct a linegraph of `wind_speed` for early january. The dataset `early_january_weather` has already been pre-loaded in R.

```{r Ex1, exercise=TRUE}
ggplot(data = early_january_weather, mapping = aes(x = time_hour, y = ___)) +
  ____
```

```{r Ex1-solution, exercise.reveal_solution = FALSE}
ggplot(data = early_january_weather, mapping = aes(x = time_hour, y = wind_speed)) +
  geom_line()
```

```{r Ex1-code-check}
grade_this_code()
```

**Exercise 2**

Consider the following plot.

```{r}
htmltools::img(src="images/Figure_02_6.png", height = 700, width = 700)
```

Fill in the code below to create this plot.

```{r Ex2, exercise=TRUE}
ggplot(data = weather, mapping = aes(x = temp)) +
    ___(color = 'white') +
    ___(~ month)
```

```{r Ex2-solution, exercise.reveal_solution = FALSE}
ggplot(data = weather, mapping = aes(x = temp)) +
    geom_histogram(color = 'white') +
    facet_wrap(~ month)
```

```{r Ex2-code-check}
grade_this_code()
```

## Reading Quiz

```{r Q}
quiz(caption = NULL,
  # Q1
  question("Q1) What operator allows you to keep adding layers to a ggplot() object?",
           type = "learnr_text",
           answer("+", correct = TRUE),
           answer("plus", correct = TRUE),
           answer("plus sign", correct = TRUE),
           answer("the plus sign", correct = TRUE),
           allow_retry = TRUE,
           random_answer_order = TRUE),
    question("Q2) Which of the following are typically used to visualize the relationship between two numeric variables? Select all that apply.",
           answer("histogram"),
           answer("boxplot"),
           answer("scatterplot", correct = TRUE),
           answer("linegraph", correct = TRUE),
           allow_retry = TRUE,
           random_answer_order = TRUE), 
  # Q2
  question("Q3) What is the default number of bins R uses to build a histogram?", 
           type = "learnr_text",
           answer("30", correct = TRUE),
           allow_retry = TRUE),
    # Q3
    question("Q4) Which of the following arguments in geom_histogram() will make the inside (as opposed to the outline) of the bars blue?",
           answer(" bar = 'blue' "),
           answer(" shade = 'blue' "),
           answer(" color = 'blue' "),
           answer(" fill = 'blue' ", correct = TRUE),
           allow_retry = TRUE,
           random_answer_order = TRUE)
) 

```

## Submit

Once you are finished:

-   Click the 'Download Grade' button below. This will download an html document of your grade summary.
-   Make sure your grade is correct and as expected!
-   Submit the downloaded html to Canvas.

```{r}
grade_print_ui("grade_out")
```

<br>
<hr /> 
<br>

```{r}
bootstrapPage(
     div(style="display:inline-block", 
         strong("Optional:") ),
     div(style="display:inline-block",
         print_ui("Print", label = "full reading check") ),
     div(style="display:inline-block", 
         p("for your own review and records.") ) 
     )
```
<hr /> 
